webpackJsonp([2],{"5nlT":function(t,e){},IeWI:function(t,e){},OuCh:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("PBVb"),n=s("CPkp"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"swiper"},[e("div",{staticClass:"mui-card"},[e("div",{staticClass:"mui-card-content"},[e("div",{staticClass:"mui-card-content-inner"},[e("mt-swipe",{attrs:{auto:4e3}},this._l(this.dataList,function(t){return e("mt-swipe-item",{key:t.id},[e("img",{attrs:{src:t.imgSrc}})])}),1)],1)])])])},staticRenderFns:[]};var o=s("VU/8")({props:["dataList"]},a,!1,function(t){s("sgT9")},"data-v-baa627ee",null).exports,c={mounted:function(){this.mui(".mui-numbox").numbox()},methods:{countChanged:function(){this.$emit("getCount",parseInt(this.$refs.numbox.value))}},props:["max"],watch:{max:function(t,e){this.mui(".mui-numbox").numbox().setOption("max",t)}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mui-numbox",attrs:{"data-numbox-step":"1","data-numbox-min":"1"}},[e("button",{staticClass:"mui-btn mui-numbox-btn-minus",attrs:{type:"button"}},[this._v("-")]),this._v(" "),e("input",{ref:"numbox",staticClass:"mui-numbox-input",attrs:{id:"test",type:"number",value:"1"},on:{change:this.countChanged}}),this._v(" "),e("button",{staticClass:"mui-btn mui-numbox-btn-plus",attrs:{type:"button"}},[this._v("+")])])},staticRenderFns:[]};var l=s("VU/8")(c,r,!1,function(t){s("nR4u")},null,null).exports,u=s("Au9i"),d={props:["dataView","dataList"],data:function(){return{colNum:0,sizeNum:0,ballFlag:!1,selectedCount:1,loginFlag:!1}},mounted:function(){this.loginFlag=this.$store.state.loginFlag},methods:{colChose:function(t){this.colNum=t},sizeChose:function(t){this.sizeNum=t},addToCar:function(){var t=this;if(!1===this.loginFlag)u.MessageBox.confirm("你还没有登录购物车,需要前去登陆吗?").then(function(e){t.$router.push("/login")});else{this.ballFlag=!0;var e={id:this.dataView.id,count:this.selectedCount,price:this.dataView.price,image:this.dataList[0].imgSrc,intro:this.dataView.intro,oldprice:this.dataView.oldprice,stock_quantity:this.dataView.stock_quantity,title:this.dataView.title,size:this.sizeText,color:this.colText,selected:!0};console.log(e),this.$store.commit("addTocar",e),u.MessageBox.confirm("已成功添加购物车,是否需要前去看看?").then(function(e){t.$router.push("/car")})}},beforeEnter:function(t){t.style.transform="translate(0, 0)"},enter:function(t,e){var s=this.$refs.ball.getBoundingClientRect(),i=document.getElementById("badge").getBoundingClientRect();console.log(i);var n=i.left-s.left,a=i.top-s.top;console.log(n+"---"+a),t.style.transform="translate("+n+"px,"+a+"px)",t.style.transition="all 0.5s cubic-bezier(.4,-0.3,1,.68)",e()},afterEnter:function(t){this.ballFlag=!this.ballFlag},getSelectedCount:function(t){this.selectedCount=t}},computed:{colText:function(){return this.dataView.chose[this.colNum].col},sizeText:function(){return this.dataView.chose[this.sizeNum].size}},components:{"v-computed":l}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.ballFlag,expression:"ballFlag"}],ref:"ball",staticClass:"ball"})]),t._v(" "),s("div",{staticClass:"mui-card"},[s("div",{staticClass:"mui-card-header"},[t._v("商品参数")]),t._v(" "),s("div",{staticClass:"mui-card-content"},[s("section",{staticClass:"chose"},[t.dataView?s("div",{staticClass:"chose-view"},[s("h1",{staticClass:"chose-view-title"},[t._v("\n                        "+t._s(t.dataView.title)+"~~ \n                        "),s("span",[t._v("(已选 "+t._s(t.colText)+" - "+t._s(t.sizeText)+")")])])]):t._e(),t._v(" "),s("div",{staticClass:"chose-chosed",attrs:{ontouchstart:""}},[s("div",{staticClass:"chose-color"},t._l(t.dataView.chose,function(e,i){return s("span",{key:e.id,class:{active:t.colNum===i||0},on:{click:function(e){return t.colChose(i)}}},[t._v("\n                            "+t._s(e.col)+"\n                            ")])}),0),t._v(" "),s("div",{staticClass:"chose-size"},t._l(t.dataView.chose,function(e,i){return s("span",{key:e.id,class:{active:t.sizeNum==i||0},on:{click:function(e){return t.sizeChose(i)}}},[t._v("\n                            "+t._s(e.size)+"\n                        ")])}),0)]),t._v(" "),s("p",{staticClass:"price"},[t._v("\n                    市场价："),s("del",[t._v("¥"+t._s(t.dataView.oldprice)+"元")]),t._v("  销售价："),s("span",{staticClass:"now_price"},[t._v("¥"+t._s(t.dataView.price)+"元")])]),t._v(" "),s("p",[t._v("购买数量："),s("v-computed",{attrs:{max:t.dataView.stock_quantity},on:{getCount:t.getSelectedCount}})],1),t._v(" "),s("mt-button",{attrs:{type:"primary",size:"small"}},[t._v("立即购买")]),t._v(" "),s("mt-button",{attrs:{type:"danger",size:"small"},on:{click:t.addToCar}},[t._v("加入购物车")])],1)])])],1)},staticRenderFns:[]};var m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"content"},this._l(this.list,function(t){return e("div",{staticClass:"img-wrap"},[e("img",{attrs:{src:t.imgSrc}})])}),0)},staticRenderFns:[]};var h={data:function(){return{list:[],view:"",contentImgSrc:[],name:"商品信息"}},components:{"v-swiper":o,"v-chose":s("VU/8")(d,v,!1,function(t){s("lu/e")},"data-v-2e5f07b7",null).exports,"v-content":s("VU/8")({props:["list"]},m,!1,function(t){s("IeWI")},"data-v-88b5cce4",null).exports,"v-baseline":s("yLl/").a,"v-header":i.a,"v-footer":n.a},created:function(){this.getDatas()},methods:{getDatas:function(){var t=this;this.$axios.get("/detail").then(function(e){t.list=e.data.swiper,t.view=e.data.view,t.contentImgSrc=e.data.contentImgSrc}).catch(function(t){alert(t)})}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-header",{attrs:{name:t.name}}),t._v(" "),s("div",{staticClass:"detail"},[s("v-swiper",{attrs:{dataList:t.list}}),t._v(" "),s("v-chose",{attrs:{dataView:t.view,dataList:t.list}}),t._v(" "),s("v-content",{attrs:{list:t.contentImgSrc}}),t._v(" "),s("v-baseline")],1),t._v(" "),s("v-footer")],1)},staticRenderFns:[]};var p=s("VU/8")(h,f,!1,function(t){s("5nlT")},"data-v-590f0c26",null);e.default=p.exports},WasN:function(t,e){},"lu/e":function(t,e){},nR4u:function(t,e){},sgT9:function(t,e){},"yLl/":function(t,e,s){"use strict";var i={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("没有更多了...")])},staticRenderFns:[]};var n=s("VU/8")({},i,!1,function(t){s("WasN")},"data-v-caa2fc52",null);e.a=n.exports}});
//# sourceMappingURL=2.51101c01b5468ad0bb0f.js.map